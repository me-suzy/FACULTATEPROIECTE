
<SCRIPT>
<!--
function displayWindow(url, width, height) {
        var Win = window.open(url,"displayWindow",'width=' + width +
	',height=' + height + ',resizable=1,scrollbars=yes');
	}
	//-->
	</SCRIPT>



<FONT FACE="Arial,Helvetica" SIZE="-1">
To access the contents, click the chapter and section titles.
</FONT>
<P>
<B>Developing Java Enterprise Applications</B>
<FONT SIZE="-1">
<BR>
<I>(Publisher: John Wiley & Sons, Inc.)</I>
<BR>
Author(s): Stephen Asbury ; Scott R. Weiner
<BR>
ISBN: 0471327565
<BR>
Publication Date: 02/01/99
</FONT>
<P>
<Script language="JavaScript">
function isIE4() 
{
    return( navigator.appName.indexOf("Microsoft") != -1 && (navigator.appVersion.charAt(0)=='4') );
 }
function bookMarkit()
{
        var url="http://www.itknowledge.com/PSUser/EWBookMarks.html?url="+window.location+"&isbn=0";
	parent.location.href=url;
        //var win = window.open(url,"myitk");
        //if(!isIE4())
        //       win.focus();

}
</Script>
<a href="javascript:bookMarkit();"><img src="/images/bookmarkit.gif" border=0 alt="Bookmark It" width=97 height=23></a>

<P>
<form name="Search" method="GET" action="http://search.earthweb.com/search97/search_redir.cgi">

<INPUT TYPE="hidden" NAME="Action" VALUE="Search">
<INPUT TYPE="hidden" NAME="SearchPage" VALUE="http://search.earthweb.com/search97/samples/forms/srchdemo.htm">
<INPUT TYPE="hidden" NAME="Collection" VALUE="ITK">
<INPUT TYPE="hidden" NAME="ResultTemplate" VALUE="itk-simple-intrabook.hts">
<INPUT TYPE="hidden" NAME="ViewTemplate" VALUE="view.hts">

<font face="arial, helvetica" size=2><b>Search this book:</b></font><br>
<INPUT NAME="queryText" size=50 VALUE="">&nbsp;<input type="submit" name="submitbutton" value="Go!">
<INPUT type=hidden NAME="section_on" VALUE="on">
<INPUT type=hidden NAME="section" VALUE="http://www.itknowledge.com/reference/standard/0471327565/">

</form>


<!-- Empty Reference Subhead -->

<!--ISBN=0471327565//-->
<!--TITLE=Developing Java Enterprise Applications//-->
<!--AUTHOR=Stephen Asbury//-->
<!--AUTHOR=Scott R. Weiner//-->
<!--PUBLISHER=Wiley Computer Publishing//-->
<!--CHAPTER=16//-->
<!--PAGES=395-398//-->
<!--UNASSIGNED1//-->
<!--UNASSIGNED2//-->

<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="16-01.html">Previous</A></TD>
<TD><A HREF="../ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="16-03.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<P><FONT SIZE="+1"><B><I>Persistence</I></B></FONT></P>
<P>Both stateful session beans and entity beans require some form of persistence for their internal data. Usually, a stateful session bean relies on the host to serialize it, if necessary, for persistence, while entity beans represent data in a more permanent store, such as a database. In this case, the entity bean can either manage its own relationship with the database or rely on the host to store its data. All three of these cases are discussed further in later sections of this chapter. Perhaps the most important concept to remember at this point is that each host may provide persistence services differently. The specification says what the bean has to do, but the host can use the information provided by the bean in a number of ways.
</P>
<P><FONT SIZE="+1"><B><I>Communication</I></B></FONT></P>
<P>Enterprise JavaBeans are designed to live on a server of some type and are accessed by other servers and clients. This implies some form of network communication. However, the specification does not require that a specific communication mechanism or protocol be used. In a Pure Java situation, in which the client is a Java program and the host is a Java program, it is likely that the client and server will use RMI to communicate. This communication can happen over the RMI protocol called Java Remote Method Protocol (JRMP), or it could happen over the Internet Inter-Orb Protocol, IIOP, when RMI over IIOP is supported. A host might also provide other interfaces. For example, a host could provide an OLE interface to enterprise beans, or it could provide a custom client API that uses a special protocol. The bean writer should not be affected by this implementation detail; rather, the decision of which host to choose is affected by the expected client support.
</P>
<P>In reality, there is some effect on an EJB from the communication protocol. This effect is due to the different mechanism that each protocol supports. Currently, RMI supports more types of interactions, or at least different ones, than IIOP does. However, Sun and other companies are working to close this gap. In cases in which you are using IIOP or another non-RMI protocol, you may have to use some coding conventions to constrain your EJB to work within the communication infrastructure.</P>
<P><FONT SIZE="+1"><B><I>Transactions</I></B></FONT></P>
<P>All enterprise beans understand the fundamental concept of a transaction. Although the configuration and deployment specifics for EJBs are discussed in Chapter 17, it is important to note here that beans implicitly execute within a transaction depending on its configuration. In the simplest case, the bean developer doesn&#146;t have to do anything to take advantage of transactions, even distributed transactions across several applications. In order for these transactions to work, the EJB host implements the Java Transaction Service and links this implementation to any of the EJBs&#146; JDBC code. In other words, the host takes control of the transaction management for a bean&#146;s JDBC connection to hide that complexity from the bean writer. Of course, you can configure a bean to completely manage its own transactions, as well as combine bean and host transaction management. For the remainder of this chapter, the default values for transaction management are used, as provided by the EJB host. In Chapter 23, the various options available to bean developers for managing transactions are discussed in more detail.
</P>
<P>In addition to these five services, the host provider will also be expected to provide some form of deployment tools, as described in Chapter 17. These tools can range from a command-line utility for installing a bean into a server to a graphical tool that provides controls for setting all of the beans&#146; attributes. The deployment tools and their associated features will greatly affect your choice of bean host. Hosts may also provide services beyond the standard bean specification.</P>
<H4 ALIGN="LEFT"><A NAME="Heading4"></A><FONT COLOR="#000077">Possible Services</FONT></H4>
<P>An EJB host can provide two key services that are not part of the specification. First, the host can provide some form of pooling. This could include connection pooling and thread pooling. Second, the host can provide some form of caching. In addition to these two common extended services, a host can provide other services such as timed events and support for hosting servlets or other distributed objects.
</P>
<P><FONT SIZE="+1"><B><I>Pooling</I></B></FONT></P>
<P><I>Pooling</I> is the process of sharing a finite set of resources and is often employed to minimize resource usage. For example, thread pooling is usually implemented to provide a set number of threads inside the host. As requests come in to the server, they are handled by an available thread. If no thread is available, the request waits for the next available thread to handle it. By controlling the number of threads, the host can have more control over the execution state in the server.</P>
<P>The second kind of pooling common to EJB hosts is database<I> connection pooling.</I> In this case, several EJBs might share the same connection. As with threads, only one bean can use the connection at a time. But by pooling, the host can reduce the time needed to connect to the database and at the same time control the number of database resources being used. Because the EJB host will often control a connection for transaction purposes anyway, adding connection pooling can be transparent to the programmer. Often, connection pooling will be handled in the deployment and configuration process.</P>
<P>Depending on the EJB host, these pools could be shared by a particular kind of EJB or across all of the beans on a particular computer.</P>
<P><FONT SIZE="+1"><B><I>Caching</I></B></FONT></P>
<P><I>Caching</I> is the process of storing information from a request for use by subsequent requests. Web browsers often cache Web pages that the user views, making it unnecessary to download the page for subsequent viewings. Caching is used to trade memory for time. A host can cache the results of database queries, for example, to minimize the time it takes to make subsequent queries. As with all caches, this technique works best with data that doesn&#146;t change often. However, given an application that operates on a large, fairly stable data set, caching can improve performance drastically.</P>
<P><FONT SIZE="+1"><B><I>Other Services</I></B></FONT></P>
<P>Another easy service for the host to provide is some form of timed events. For example, an EJB might be able to register for notification on a given interval. This would allow the bean to perform regular maintenance, like updating log files or indices.
</P>
<P>EJB hosts may also provide hosting services for servlets and general RMI objects. This is mainly a side effect of the host provider&#146;s main goal, which is to provide a stable enterprise-programming platform that appeals to the widest range of programmers and users.</P>
<P>As the Enterprise JavaBeans standard works its way into a variety of hosts, providers will certainly create other services to woo customers. Be sure to look into these main services as well as others, but don&#146;t take them for granted. They may differ from host to host.</P>
<H4 ALIGN="LEFT"><A NAME="Heading5"></A><FONT COLOR="#000077">Container</FONT></H4>
<P>Because a variety of application types can act as the host for a deployed enterprise bean, Sun decided to standardize the vocabulary for discussing the host&#146;s responsibility. The term <I>container</I> is used to refer to the environment in which an Enterprise JavaBean runs. This container can take on a number of forms based on the host. In fact, the same host might use a variety of container types to support different services. For example, the same host might provide a CORBA-based container that uses CORBA protocols and services as well as an RMI-based container that uses Java technology to provide its services.</P><P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="16-01.html">Previous</A></TD>
<TD><A HREF="../ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="16-03.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>


<!-- 