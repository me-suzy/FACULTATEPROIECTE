
<SCRIPT>
<!--
function displayWindow(url, width, height) {
        var Win = window.open(url,"displayWindow",'width=' + width +
	',height=' + height + ',resizable=1,scrollbars=yes');
	}
	//-->
	</SCRIPT>



<FONT FACE="Arial,Helvetica" SIZE="-1">
To access the contents, click the chapter and section titles.
</FONT>
<P>
<B>Developing Java Enterprise Applications</B>
<FONT SIZE="-1">
<BR>
<I>(Publisher: John Wiley & Sons, Inc.)</I>
<BR>
Author(s): Stephen Asbury ; Scott R. Weiner
<BR>
ISBN: 0471327565
<BR>
Publication Date: 02/01/99
</FONT>
<P>
<Script language="JavaScript">
function isIE4() 
{
    return( navigator.appName.indexOf("Microsoft") != -1 && (navigator.appVersion.charAt(0)=='4') );
 }
function bookMarkit()
{
        var url="http://www.itknowledge.com/PSUser/EWBookMarks.html?url="+window.location+"&isbn=0";
	parent.location.href=url;
        //var win = window.open(url,"myitk");
        //if(!isIE4())
        //       win.focus();

}
</Script>
<a href="javascript:bookMarkit();"><img src="/images/bookmarkit.gif" border=0 alt="Bookmark It" width=97 height=23></a>

<P>
<form name="Search" method="GET" action="http://search.earthweb.com/search97/search_redir.cgi">

<INPUT TYPE="hidden" NAME="Action" VALUE="Search">
<INPUT TYPE="hidden" NAME="SearchPage" VALUE="http://search.earthweb.com/search97/samples/forms/srchdemo.htm">
<INPUT TYPE="hidden" NAME="Collection" VALUE="ITK">
<INPUT TYPE="hidden" NAME="ResultTemplate" VALUE="itk-simple-intrabook.hts">
<INPUT TYPE="hidden" NAME="ViewTemplate" VALUE="view.hts">

<font face="arial, helvetica" size=2><b>Search this book:</b></font><br>
<INPUT NAME="queryText" size=50 VALUE="">&nbsp;<input type="submit" name="submitbutton" value="Go!">
<INPUT type=hidden NAME="section_on" VALUE="on">
<INPUT type=hidden NAME="section" VALUE="http://www.itknowledge.com/reference/standard/0471327565/">

</form>


<!-- Empty Reference Subhead -->

<!--ISBN=0471327565//-->
<!--TITLE=Developing Java Enterprise Applications//-->
<!--AUTHOR=Stephen Asbury//-->
<!--AUTHOR=Scott R. Weiner//-->
<!--PUBLISHER=Wiley Computer Publishing//-->
<!--CHAPTER=16//-->
<!--PAGES=393-395//-->
<!--UNASSIGNED1//-->
<!--UNASSIGNED2//-->

<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="../ch15/15-04.html">Previous</A></TD>
<TD><A HREF="../ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="16-02.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<H2><A NAME="Heading1"></A><FONT COLOR="#000077">CHAPTER 16<BR>Programming Enterprise JavaBeans
</FONT></H2>
<P>One of the main topics addressed in this book is how to create Enterprise JavaBeans. Chapter 15, &#147;What Are Enterprise JavaBeans?&#148; provided an introduction to this powerful standard for server programming. This chapter begins to discuss the concepts and techniques used to build Enterprise JavaBeans, often called EJBs.
</P>
<P>However, because EJBs are an enterprise-level standard, live on a server, and support a number of services, the discussion is broken into four pieces. This chapter focuses on the programming techniques used to build a bean and the supporting objects. Chapter 17, &#147;Deploying Enterprise JavaBeans,&#148; discusses the server-dependent process of deploying a bean to a server. That chapter discusses the BEA WebLogic application server in detail; a demo of the BEA WebLogic server is provided on the CD-ROM. Chapter 18, &#147;Enterprise JavaBean Business Rules Engine,&#148; provides the first large example of an EJB application set. Chapter 23, &#147;Using Transactions with Enterprise JavaBeans,&#148;discusses the use of the new Java transactions services and their interaction with EJBs. These concepts are mentioned in this chapter but are discussed in more detail there. Chapter 25, &#147;A Four-Tier Online Store,&#148; provides a larger example that combines Enterprise JavaBeans with servlets and several other technologies discussed in this book.</P>
<P>Many concepts and technologies support Enterprise JavaBeans. This chapter starts off with a long discussion of EJBs and their environment, followed by a number of specific types of EJBs and examples of each. Keep in mind that Enterprise Java Beans are used extensively in the remaining examples, so the concepts and techniques introduced here will be reused in a number of places later in this book.</P>
<BLOCKQUOTE>
<P><FONT SIZE="-1"><HR><B>WARNING:&nbsp;&nbsp;</B>You should read Chapter 17, &#147;Deploying Enterprise JavaBeans,&#148; before trying to run the examples from this chapter off the CD-ROM.</FONT><HR>
</BLOCKQUOTE>
<H3><A NAME="Heading2"></A><FONT COLOR="#000077">An Enterprise JavaBean&#146;s Environment</FONT></H3>
<P>Let&#146;s begin our discussion of programming EJBs by looking at the environment in which they live. An EJB can live in a variety of locales, including application servers and databases. However, the Enterprise JavaBean specification, as defined by Sun and its partners, is designed to create a portable, predictable environment for beans to live in. This environment is defined as a set of services and classes that the bean expects to be available to it. All of the beans&#146; environment is set up to be 100-percent Pure Java to make sure that an EJB can be written in Java and run on all hosts.
</P>
<P>This does not, however, mean that all EJB hosts are implemented in the same manner. Some hosts are implemented in Pure Java; others are written in C, C<SMALL>&#43;&#43;</SMALL>, and other languages. On top of the obvious difference in programming language, EJB hosts can use a variety of techniques and technologies to provide their services. For example, IBM might use CICS to implement transactions, while BEA might use TopHat/Tuxedo. One application server might keep all of the EJBs in a single address space, while another creates processes for each bean. These implementation details are not an issue for the programmer as much as the analyst/manager who determines which host to purchase. In other words, programming Enterprise JavaBeans doesn&#146;t depend on the final deployment platform. In fact, it is reasonable that a company would write a set of EJBs for a specific problem space and sell them to different companies with different EJB hosts.</P>
<P>These statements are not intended to downplay the importance of choosing an EJB host. Choosing the right EJB host is a key business decision based on legacy applications, future goals, budget considerations, and other issues. However, many of these issues are driven by your current deployment environment and are too numerous to address here. Rather, this book focuses on the fundamental concept of an EJB as a Pure Java solution to enterprise development and leaves the specifics of your deployment situation to the expert: you. The beauty of the EJB specification is that it was designed for just such a separation of development and deployment decisions.</P>
<H4 ALIGN="LEFT"><A NAME="Heading3"></A><FONT COLOR="#000077">Expected Services</FONT></H4>
<P>An Enterprise JavaBean&#146;s host is expected to provide a number of services:
</P>
<DL>
<DD><B>State and life-cycle management.</B> The bean&#146;s host will cooperate with the bean to manage its current state and define a life cycle for the bean.
<DD><B>Security.</B> The host should provide some form of security for the bean.
<DD><B>Persistence.</B> The host may need to provide a persistence mechanism for the bean&#146;s state.
<DD><B>Communication.</B> The host provides the underlying communication mechanism for the bean.
<DD><B>Transactions.</B> The host should implement the transaction services expected by a bean.
</DL>
<P>Let&#146;s take a look at each of these in more detail.
</P>
<P><FONT SIZE="+1"><B><I>State and Life-Cycle Management</I></B></FONT></P>
<P>A bean&#146;s life cycle depends on several factors. First, beans can be used for session-oriented interactions. These beans are called <I>session beans</I> and their life cycle is based on a client session. In fact, two kinds of session beans are defined in the EJB specification. <I>Stateful session beans</I> maintain state with a particular client. <I>Stateless session beans</I> maintain state across a single interaction or method.</P>
<P>Second, beans can be used to represent particular entities, such as customers or accounts. These beans are called <I>entity beans</I> and can either manage their own data or rely on the host to manage their data. Not all servers in the 1.0 specification of EJB are required to implement or support entity beans. The BEA WebLogic server used in the examples in this book supports entity beans, as will all servers that meet the 2.0 specification when it is released. The specific life cycle for each type of bean is discussed in the &#147;Creating an Enterprise JavaBean&#148; section of this chapter.</P>
<P>All types of beans, except stateless session beans, maintain some kind of state. The host is expected to cooperate with the bean to maintain this state and provide information about the beans&#146; environment and context.</P>
<P><FONT SIZE="+1"><B><I>Security</I></B></FONT></P>
<P>Security for enterprise beans is based on the JDK 1.1 security concept of an <I>identity.</I> An identity, represented by a java.security.Identity object, defines a particular person or role. The EJB&#146;s host is expected to associate an identity with the bean. This identity limits access to the bean. Normally, the bean will not need to know about its identity unless it wants to compare its identity to a specific role in order to perform a particular action. For example, a bean might allow managers to perform an action that other employees cannot. A key aspect of the EJB specification is that although the bean does have an associated identity, the determination of this identity is up to the server. It is not the bean&#146;s job to identify the client. Rather, the bean should specify its expected security configuration when it is deployed.</P>
<P>Java 2 updates this security model to use the concept of a Principal rather than an Identity. Expect future versions of the EJB specification to remove the Identity class appropriately.</P><P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="../ch15/15-04.html">Previous</A></TD>
<TD><A HREF="../ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="16-02.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>


<!-- 