
<SCRIPT>
<!--
function displayWindow(url, width, height) {
        var Win = window.open(url,"displayWindow",'width=' + width +
	',height=' + height + ',resizable=1,scrollbars=yes');
	}
	//-->
	</SCRIPT>



<FONT FACE="Arial,Helvetica" SIZE="-1">
To access the contents, click the chapter and section titles.
</FONT>
<P>
<B>Developing Java Enterprise Applications</B>
<FONT SIZE="-1">
<BR>
<I>(Publisher: John Wiley & Sons, Inc.)</I>
<BR>
Author(s): Stephen Asbury ; Scott R. Weiner
<BR>
ISBN: 0471327565
<BR>
Publication Date: 02/01/99
</FONT>
<P>
<Script language="JavaScript">
function isIE4() 
{
    return( navigator.appName.indexOf("Microsoft") != -1 && (navigator.appVersion.charAt(0)=='4') );
 }
function bookMarkit()
{
        var url="http://www.itknowledge.com/PSUser/EWBookMarks.html?url="+window.location+"&isbn=0";
	parent.location.href=url;
        //var win = window.open(url,"myitk");
        //if(!isIE4())
        //       win.focus();

}
</Script>
<a href="javascript:bookMarkit();"><img src="/images/bookmarkit.gif" border=0 alt="Bookmark It" width=97 height=23></a>

<P>
<form name="Search" method="GET" action="http://search.earthweb.com/search97/search_redir.cgi">

<INPUT TYPE="hidden" NAME="Action" VALUE="Search">
<INPUT TYPE="hidden" NAME="SearchPage" VALUE="http://search.earthweb.com/search97/samples/forms/srchdemo.htm">
<INPUT TYPE="hidden" NAME="Collection" VALUE="ITK">
<INPUT TYPE="hidden" NAME="ResultTemplate" VALUE="itk-simple-intrabook.hts">
<INPUT TYPE="hidden" NAME="ViewTemplate" VALUE="view.hts">

<font face="arial, helvetica" size=2><b>Search this book:</b></font><br>
<INPUT NAME="queryText" size=50 VALUE="">&nbsp;<input type="submit" name="submitbutton" value="Go!">
<INPUT type=hidden NAME="section_on" VALUE="on">
<INPUT type=hidden NAME="section" VALUE="http://www.itknowledge.com/reference/standard/0471327565/">

</form>


<!-- Empty Reference Subhead -->

<!--ISBN=0471327565//-->
<!--TITLE=Developing Java Enterprise Applications//-->
<!--AUTHOR=Stephen Asbury//-->
<!--AUTHOR=Scott R. Weiner//-->
<!--PUBLISHER=Wiley Computer Publishing//-->
<!--CHAPTER=03//-->
<!--PAGES=026-029//-->
<!--UNASSIGNED1//-->
<!--UNASSIGNED2//-->

<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="03-03.html">Previous</A></TD>
<TD><A HREF="../ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="03-05.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<P>
</P>
<TABLE WIDTH="100%"><TD CAPTION VALIGN="TOP" ALIGN="LEFT" COLSPAN="3"><B>Table 3.7</B> JDBC Protocol Structure
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TH WIDTH="35%" VALIGN="TOP" ALIGN="LEFT">PROTOCOL COMPONENT
<TH WIDTH="65%" VALIGN="TOP" ALIGN="LEFT">MEANING
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TD VALIGN="TOP" ALIGN="LEFT"><SMALL>jdbc</SMALL>
<TD VALIGN="TOP" ALIGN="LEFT">Specifies that we are using a JDBC protocol.
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TD VALIGN="TOP" ALIGN="LEFT"><SMALL>Sub&#150;protocol</SMALL>
<TD VALIGN="TOP" ALIGN="LEFT">Indicates the type of data source. For example, the URL could be jdbc:oracle:myDatabase or jdbc:odbc:myDatabase. When DriverManager is looking for a registered driver to connect to your data source, it passes this URL. The driver can then determine if it can handle this data source.
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TD VALIGN="TOP" ALIGN="LEFT"><SMALL>Datasource&#150;name</SMALL>
<TD VALIGN="TOP" ALIGN="LEFT">The name your driver or your DBMS uses to identify the data source. For example, with ODBC, the data source name is the name registered with ODBC and could differ from the name of the actual database it maps to; with Sybase, the data source name could be the name of the configuration data used to connect to the database over the network.
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TD VALIGN="TOP" ALIGN="LEFT"><SMALL>Optional&#150;parameter</SMALL>
<TD VALIGN="TOP" ALIGN="LEFT">Can be used to pass extra information that is specific to the driver. The protocol can take zero or more optional parameters in the format of key/value pairs. For example, a URL might look like this: jdbc:odbc:Inventory;user=admin;password=xyz
<TR>
<TD COLSPAN="2"><HR>
</TABLE>
<P><A NAME="Fig4"></A><A HREF="javascript:displayWindow('images/03-04.jpg',500,330 )"><IMG SRC="images/03-04t.jpg"></A>
<BR><A HREF="javascript:displayWindow('images/03-04.jpg',500,330)"><FONT COLOR="#000077"><B>Figure 3.4</B></FONT></A>&nbsp;&nbsp;Connecting to a data source.</P>
<P>You now have a connection object that can be used to access the database, assuming that you specified the URL correctly and that you have an appropriate driver. There are four types (levels) of drivers today; they are discussed in the following section.
</P>
<H4 ALIGN="LEFT"><A NAME="Heading6"></A><FONT COLOR="#000077">Driver Types</FONT></H4>
<P>JavaSoft has segmented JDBC drivers into four categories. These categories, referred to as levels, range from platform&#150;specific bridges (level 1) to pure Java database connections (level 4). The four levels are:
</P>
<DL>
<DD><B>&#149;</B>&nbsp;&nbsp;JDBC&#150;ODBC bridge plus ODBC driver
<DD><B>&#149;</B>&nbsp;&nbsp;Native&#150;API partly Java driver
<DD><B>&#149;</B>&nbsp;&nbsp;JDBC&#150;Net pure Java driver
<DD><B>&#149;</B>&nbsp;&nbsp;Native&#150;protocol pure Java driver
</DL>
<P>JavaSoft believes that over time, most drivers will be level 3 or 4. This means that most drivers should be pure Java and run on most platforms. Let&#146;s explore each of the levels in more detail:
</P>
<DL>
<DD><B>1.</B>&nbsp;&nbsp;<B>JDBC&#150;ODBC bridge plus ODBC driver.</B> The JavaSoft bridge product provides JDBC access via ODBC drivers. This is a simple JDBC driver that supports the ODBC capabilities and doesn&#146;t necessarily support all of the capabilities of a particular data source. It is common that ODBC binary code, and in many cases database client code, must be loaded on each client machine that uses this driver. If you use this type of driver, you typically are not concerned with installing extra software on your client machines. This type of driver is also useful in a server application that is part of a three&#150;tier architecture. In this case, the ODBC driver software and possibly the database client code are installed on the server. Clients connect to the application running on the middle tier. The application uses the JDBC&#150;ODBC bridge to communicate with ODBC, which in turn communicates with the database running on the third tier. Performance is the main issue in this case. The middle&#150;tier server is hit with client requests that must be transported through the bridge. A pure Java solution should be more efficient.
<DD><B>2.</B>&nbsp;&nbsp;<B>Native&#150;API partly&#150;Java driver.</B> Most vendors provide platform&#150;specific libraries for communicating with their databases. These libraries are usually platform&#150;specific compiled libraries that are typically implemented in C or a similar language. These libraries can take advantage of database&#150;specific features. However, they must be installed on client machines. The JDBC driver at this level is written in Java, but it makes calls out to the database client library. Although this solution is not completely portable, at least the JDBC driver can take advantage of all the features provided by the database client library. This level of driver is useful in the same scenarios as level 1 drivers, except that this level can access more database&#150;specific features.
<DD><B>3.</B>&nbsp;&nbsp;<B>JDBC&#150;Net pure Java driver.</B> Middleware products that allow you to remotely access enterprise resources, such as databases, are emerging. Components of one new class of middleware are referred to as <I>application servers</I>. These products often have their own network protocol. By sending specific instructions to the application server, it can map these database&#150;independent calls to database&#150;specific requests. These products enable you to centralize issues like security, load balancing, and so on, outside your application. The JDBC drivers for these products map JDBC calls to the middleware&#150;specific calls. A demonstration copy of BEA WebLogic Application Server is included on this book&#146;s companion CD&#150;ROM. Examples later in this book will show you how to use the application server to access enterprise resources.
<DD><B>4.</B>&nbsp;&nbsp;<B>Native&#150;protocol pure Java driver.</B> Database vendors are starting to support network protocols that allow you to directly communicate with the database over the network. The JDBC drivers can be completely implemented in Java and do not need to rely on a specific client library. Rather, they send commands directly over the network to the database. This is a flexible model, but each vendor has its own protocol. To access multiple databases using this technique, you may need multiple drivers, because each vendor may have its own unique driver for leveraging vendor&#150;specific features such as transaction management.
</DL>
<H4 ALIGN="LEFT"><A NAME="Heading7"></A><FONT COLOR="#000077">Connection Example</FONT></H4>
<P>Once you have chosen a JDBC driver, you need to establish a connection to your database. The following example shows the typical process for connecting to a data source using JDBC. The first bolded line loads the JDBC&#150;ODBC bridge. When the driver loads, it registers itself with DriverManager in order to be located when a driver&#150;manageable request to connect to a data source is issued.
</P>
<P>After loading the driver class, pass the URL to DriverManager in the getConnection method. DriverManager should find the driver and return a database connection to an ODBC data source called Inventory.</P><P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="03-03.html">Previous</A></TD>
<TD><A HREF="../ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="03-05.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>


<!-- 