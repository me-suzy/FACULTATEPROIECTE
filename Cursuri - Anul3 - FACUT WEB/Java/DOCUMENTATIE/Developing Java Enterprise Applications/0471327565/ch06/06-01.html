
<SCRIPT>
<!--
function displayWindow(url, width, height) {
        var Win = window.open(url,"displayWindow",'width=' + width +
	',height=' + height + ',resizable=1,scrollbars=yes');
	}
	//-->
	</SCRIPT>



<FONT FACE="Arial,Helvetica" SIZE="-1">
To access the contents, click the chapter and section titles.
</FONT>
<P>
<B>Developing Java Enterprise Applications</B>
<FONT SIZE="-1">
<BR>
<I>(Publisher: John Wiley & Sons, Inc.)</I>
<BR>
Author(s): Stephen Asbury ; Scott R. Weiner
<BR>
ISBN: 0471327565
<BR>
Publication Date: 02/01/99
</FONT>
<P>
<Script language="JavaScript">
function isIE4() 
{
    return( navigator.appName.indexOf("Microsoft") != -1 && (navigator.appVersion.charAt(0)=='4') );
 }
function bookMarkit()
{
        var url="http://www.itknowledge.com/PSUser/EWBookMarks.html?url="+window.location+"&isbn=0";
	parent.location.href=url;
        //var win = window.open(url,"myitk");
        //if(!isIE4())
        //       win.focus();

}
</Script>
<a href="javascript:bookMarkit();"><img src="/images/bookmarkit.gif" border=0 alt="Bookmark It" width=97 height=23></a>

<P>
<form name="Search" method="GET" action="http://search.earthweb.com/search97/search_redir.cgi">

<INPUT TYPE="hidden" NAME="Action" VALUE="Search">
<INPUT TYPE="hidden" NAME="SearchPage" VALUE="http://search.earthweb.com/search97/samples/forms/srchdemo.htm">
<INPUT TYPE="hidden" NAME="Collection" VALUE="ITK">
<INPUT TYPE="hidden" NAME="ResultTemplate" VALUE="itk-simple-intrabook.hts">
<INPUT TYPE="hidden" NAME="ViewTemplate" VALUE="view.hts">

<font face="arial, helvetica" size=2><b>Search this book:</b></font><br>
<INPUT NAME="queryText" size=50 VALUE="">&nbsp;<input type="submit" name="submitbutton" value="Go!">
<INPUT type=hidden NAME="section_on" VALUE="on">
<INPUT type=hidden NAME="section" VALUE="http://www.itknowledge.com/reference/standard/0471327565/">

</form>


<!-- Empty Reference Subhead -->

<!--ISBN=0471327565//-->
<!--TITLE=Developing Java Enterprise Applications//-->
<!--AUTHOR=Stephen Asbury//-->
<!--AUTHOR=Scott R. Weiner//-->
<!--PUBLISHER=Wiley Computer Publishing//-->
<!--CHAPTER=06//-->
<!--PAGES=133-136//-->
<!--UNASSIGNED1//-->
<!--UNASSIGNED2//-->

<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="../ch05/05-16.html">Previous</A></TD>
<TD><A HREF="../ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="06-02.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<H2><A NAME="Heading1"></A><FONT COLOR="#000077">CHAPTER 6<BR>What Are Servlets?
</FONT></H2>
<P><I>Servlets</I>, Sun&#146;s latest contribution for enhancing the capabilities of a Web server, are small Java programs that run on a Web server. The name <I>servlets</I> is play on words because servlets are to a Web server as applets are to a Web browser. Servlets replace the need for other server-side programming paradigms with a Java-specific solution. Web servers began as a mechanism for sending static Web documents to a Web browser using a simple protocol, HTTP. Before long, people began looking for ways to extend the capabilities of the Web browser so that more complex forms of elements and objects such as date validation fields and spreadsheet objects could be displayed. At the same time, several technologies emerged for adding program logic on the server.</P>
<P>This chapter shows how typical server-side programming works and compares it to the process of servlet creation and use. This comparison provides you with a basis for understanding how other server-side technologies provide Web client services and at the same time provides an overview of how to use servlets to perform the same tasks in Java. Chapter 7, &#147;Programming Servlets,&#148; covers the features and use of servlets in greater detail.</P>
<H3><A NAME="Heading2"></A><FONT COLOR="#000077">Server-Side Programming Technologies</FONT></H3>
<P>Many technologies for programming on the server have emerged. The most common technologies include the following:
</P>
<DL>
<DD><B>Common Gateway Interface (CGI)</B>. CGI enables developers to create separate applications that communicate with the Web server. The applications (or scripts) generate Web pages or other files dynamically by processing form data and returning documents based on the form values and other criteria.
<DD><B>Plug-ins</B>. Server vendors such as Microsoft and Netscape came out with their own proprietary APIs for extending the application logic of their particular servers. These &#147;plug-in&#148; technologies (ISAPI and NSAPI, respectively) allow the programmer to take advantage of server-specific features for managing the relationship between the Web server and other resources. Plug-ins are custom code extensions that are added directly to the server and run inside the server&#146;s memory address space. Plug-ins have the performance advantage of running in the Web server process, but if the plug-in crashes, it also has the potential of crashing the server.
<DD><B>Server-side includes</B>. Many servers support extensions to HTML called server-side includes. Some Web servers have the ability to preprocess HTML before sending it to the Web browser. The Web servers support additional HTML tags that can be dynamically processed by the Web server so that the resulting HTML viewed in the Web browser can be customized by this server-side include. An extension to server-side includes is the concept of server-side scripting. Many servers are now supporting this type of scripting. For example, Microsoft&#146;s Web server supports Active Server Pages; Netscape supports Server-Side JavaScript, previously known as LiveWire. These extensions are interpreted by the server.
</DL>
<P>All of these technologies enable developers to create complete, distributed applications in which the user interface logic is displayed in the Web browser and the business logic is managed in server programs. Enhanced HTML capabilities for developing complete (but rudimentary) user interfaces for the Web browser and the ability to build complex business logic via CGI and other technologies on the Web server clearly changed the way enterprise applications are written for a large number of systems.
</P>
<P>Rather than creating a single monolithic application, we define smaller applications that provide a finite number of functions such as validating a credit card or retrieving a product description from a database. These smaller applications work together to perform the functions of a larger enterprise system. Each of these applications can reside on a single server, or they can be distributed throughout the network. This flexibility allows better load balancing, performance tuning, and maintenance of each individual component. For instance, you can upgrade one component such as an application that provides the user with a menu of options without having to change the rest of the application components.</P>
<P>The next section describes how a CGI script can be used to process Web client requests. This discussion forms a basis for comparing CGI and servlets.</P>
<H3><A NAME="Heading3"></A><FONT COLOR="#000077">Processing Forms with CGI</FONT></H3>
<P>While each of the server technologies is slightly different in how it performs its tasks, the CGI process illustrates the basic purpose and function of server-side logic. CGI programs can be used to dynamically generate Web pages, as in this simple example using the Perl language:
</P>
<!-- CODE //-->
<PRE>
#!/bin/perl

# Send the output mime type to the server to know what output to handle
print &#147;Content-type: text/html\n\n&#148;;

print &#147;&ltHTML&gt\n&#148;;
print &#147;&ltHEAD&gt&ltTITLE&gtHello World&lt/TITLE&gt&lt/HEAD&gt\n&#148;;
print &#147;&ltBODY&gt\n&#148;;

print &#147;&ltH1&gtHello World&lt/H1&gt\n&#148;;

print &#147;&lt/BODY&gt&lt/HTML&gt\n&#148;;

exit;
</PRE>
<!-- END CODE //-->
<P>Depending on how your Web server is configured, from a Web browser you could type:
</P>
<!-- CODE SNIP //-->
<PRE>
&ltHTTP://www.myserver.com/cgi-scripts/helloworld.pl&gt
</PRE>
<!-- END CODE SNIP //-->
<P>to access this program. Typically, CGI programs are used to process HTML forms and then return dynamic HTML; however, CGI can be used to input and output any type of data. Figure 6.1 shows a simple HTML form that is processed with a CGI script.
</P>
<P><A NAME="Fig1"></A><A HREF="javascript:displayWindow('images/06-01.jpg',640,792 )"><IMG SRC="images/06-01t.jpg"></A>
<BR><A HREF="javascript:displayWindow('images/06-01.jpg',640,792)"><FONT COLOR="#000077"><B>Figure 6.1</B></FONT></A>&nbsp;&nbsp;HTML form.</P>
<P>After the user enters values in the form, he presses the Submit button. The values are sent to the CGI script as the FORM action. The CGI script processes the values sent to it and then dynamically returns an HTML page thanking the user for the entry.
</P>
<P>Here is the HTML for the page:</P>
<!-- CODE //-->
<PRE>
&lthtml&gt
  &lthead&gt
    &lttitle&gtBook Review&lt/title&gt
  &lt/head&gt

  &ltbody&gt
    &ltH1&gtBook Review&lt/H1&gt
    &ltform action=&ltHTTP://servername/cgi-bin/bookreview.pl&gt method=POST&gt
      What is your first name?
      &ltinput type=text name=fname&gt

      &ltBR&gt&ltBR&gtCheck if you are planning to write a servlet
      &ltinput type=checkbox name=writeservlet&gt

      &ltBR&gt&ltBR&gtWhat was your favorite chapter so far?&ltBR&gt
        &ltBR&gtChp. 1&ltinput type=radio name=favchap value=1&gt
        &ltBR&gtChp. 2&ltinput type=radio name=favchap value=2&gt
        &ltBR&gtChp. 3&ltinput type=radio name=favchap value=3&gt
        &ltBR&gtChp. 4&ltinput type=radio name=favchap value=4&gt
        &ltBR&gtChp. 5&ltinput type=radio name=favchap value=5&gt
        &ltBR&gtChp. 6&ltinput type=radio name=favchap value=6&gt
      &ltBR&gt&ltBR&gt&ltinput type=submit&gt&ltinput type=reset&gt
    &lt/form&gt
  &lt/body&gt
&lt/html&gt
</PRE>
<!-- END CODE //-->
<P>Notice that each form element has a unique name and value. When the user presses the Submit button, the form data is packaged up and sent to the CGI program as a request. The CGI program parses the request and processes each of the form element&#146;s values. Then the CGI program typically returns another HTML document to the Web browser. Figure 6.2 shows what a response might look like after the preceding form is submitted.
</P><P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="../ch05/05-16.html">Previous</A></TD>
<TD><A HREF="../ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="06-02.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>


<!-- 