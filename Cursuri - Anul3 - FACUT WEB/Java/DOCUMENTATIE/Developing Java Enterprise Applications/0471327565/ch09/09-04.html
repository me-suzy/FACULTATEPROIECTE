
<SCRIPT>
<!--
function displayWindow(url, width, height) {
        var Win = window.open(url,"displayWindow",'width=' + width +
	',height=' + height + ',resizable=1,scrollbars=yes');
	}
	//-->
	</SCRIPT>



<FONT FACE="Arial,Helvetica" SIZE="-1">
To access the contents, click the chapter and section titles.
</FONT>
<P>
<B>Developing Java Enterprise Applications</B>
<FONT SIZE="-1">
<BR>
<I>(Publisher: John Wiley & Sons, Inc.)</I>
<BR>
Author(s): Stephen Asbury ; Scott R. Weiner
<BR>
ISBN: 0471327565
<BR>
Publication Date: 02/01/99
</FONT>
<P>
<Script language="JavaScript">
function isIE4() 
{
    return( navigator.appName.indexOf("Microsoft") != -1 && (navigator.appVersion.charAt(0)=='4') );
 }
function bookMarkit()
{
        var url="http://www.itknowledge.com/PSUser/EWBookMarks.html?url="+window.location+"&isbn=0";
	parent.location.href=url;
        //var win = window.open(url,"myitk");
        //if(!isIE4())
        //       win.focus();

}
</Script>
<a href="javascript:bookMarkit();"><img src="/images/bookmarkit.gif" border=0 alt="Bookmark It" width=97 height=23></a>

<P>
<form name="Search" method="GET" action="http://search.earthweb.com/search97/search_redir.cgi">

<INPUT TYPE="hidden" NAME="Action" VALUE="Search">
<INPUT TYPE="hidden" NAME="SearchPage" VALUE="http://search.earthweb.com/search97/samples/forms/srchdemo.htm">
<INPUT TYPE="hidden" NAME="Collection" VALUE="ITK">
<INPUT TYPE="hidden" NAME="ResultTemplate" VALUE="itk-simple-intrabook.hts">
<INPUT TYPE="hidden" NAME="ViewTemplate" VALUE="view.hts">

<font face="arial, helvetica" size=2><b>Search this book:</b></font><br>
<INPUT NAME="queryText" size=50 VALUE="">&nbsp;<input type="submit" name="submitbutton" value="Go!">
<INPUT type=hidden NAME="section_on" VALUE="on">
<INPUT type=hidden NAME="section" VALUE="http://www.itknowledge.com/reference/standard/0471327565/">

</form>


<!-- Empty Reference Subhead -->

<!--ISBN=0471327565//-->
<!--TITLE=Developing Java Enterprise Applications//-->
<!--AUTHOR=Stephen Asbury//-->
<!--AUTHOR=Scott R. Weiner//-->
<!--PUBLISHER=Wiley Computer Publishing//-->
<!--CHAPTER=09//-->
<!--PAGES=246-249//-->
<!--UNASSIGNED1//-->
<!--UNASSIGNED2//-->

<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="09-03.html">Previous</A></TD>
<TD><A HREF="../ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="../ch10/10-01.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<P>As you can see, the code put between &ltjava&gt tags is inserted into the service method of the servlet. The servlet reads the .jhtml file into the variable __fileData. It then writes all the HTML that is not between &ltjava&gt tags. Wherever &ltjava&gt tags are located, it executes the actual Java code.
</P>
<P>JHTML is flexible and supports all the power of Java. Examples of other capabilities of JavaServer Pages include:</P>
<DL>
<DD><B>&#149;</B>&nbsp;&nbsp;Declaring variables
<DD><B>&#149;</B>&nbsp;&nbsp;Conditional HTML
<DD><B>&#149;</B>&nbsp;&nbsp;Inserting values in HTML tags
</DL>
<P>Chapter 10, &#147;Creating JavaServer Pages&#148; discusses these capabilities in detail as well as providing a number of Java Server Page examples.
</P>
<H4 ALIGN="LEFT"><A NAME="Heading6"></A><FONT COLOR="#000077">JHTML and JSP</FONT></H4>
<P>While JHTML represents the first generation of JavaServer Pages, the second generation (.jsp files) is already being specified by Sun and its partners. The main design differences between JHTML and JSP are that JSP is designed to provide scripting capabilities on the Web server and potentially on the Web browser as well. Also, JSP is designed to support multiple scripting languages, although currently it supports only Java. The basic syntax, as of version 0.9, for JSP is similar to JHTML. However, the goal for JSP is to integrate it more into the existing community of server-side scripting. As a result, JSP looks a lot like ASP, with the code in Java rather than VBScript or JScript. Hopefully, as these standards merge, it will be possible to use the same basic syntax to indicate where the scripts are and use any of these languages to implement the script. Like JHTML, JSP will probably rely on a servlet to process pages and generate a servlet from them&#151;at least, the 0.9 version of the JSP standard uses this technique, as shown below.
</P>
<P>Here is an example of a simple.jsp file that duplicates the first .jhtml example in this chapter:</P>
<!-- CODE //-->
<PRE>
&ltHTML&gt
&ltHEAD&gt
&ltTITLE&gtSample5 JSP File&lt/TITLE&gt
&lt/HEAD&gt

&ltBODY&gt
Hello <B>&lt%= request.getParameter(&#147;name&#148;) %&gt</B>

&lt!-- Note that for simplicity the form calls the same file, with the
value for the name text field filled in. --&gt
&ltFORM METHOD=POST ACTION=&#147;sample5.jsp&#148;&gt
Enter your name and press submit
&ltINPUT TYPE=TEXT NAME=name&gt
&ltBR&gt&ltBR&gt&ltINPUT TYPE=SUBMIT&gt
&lt/FORM&gt

<B>&lt%</B>
    for(int i=1;i&lt6; i&#43;&#43;)
        out.print(&#147;&ltH&#148;&#43; i &#43;&#147;&gt Heading &#148; &#43; i &#43; &#147;&lt/h&#148; &#43; i &#43; &#147;&gt&#148; );
<B>%&gt</B>
&lt/BODY&gt
&lt/HTML&gt
</PRE>
<!-- END CODE //-->
<P>The most noticeable difference is that the &ltjava&gt tag is replaced by &lt% ... %&gt and the &lt%= tag is used for printing Java values. Here is what the servlet generated looks like:
</P>
<!-- CODE //-->
<PRE>
package pagecompile;

import java.io.*;
import java.util.*;
import javax.servlet.*;
import javax.servlet.http.*;
import java.beans.Beans;
import com.sun.server.http.pagecompile.ParamsHttpServletRequest;
import com.sun.server.http.pagecompile.ServletUtil;
import com.sun.server.http.pagecompile.filecache.CharFileData;
import com.sun.server.http.pagecompile.NCSAUtil;

public class _sample5_xjsp extends javax.servlet.http.HttpServlet
{
    private static final String sources[] = new String[]
    {
        &#147;F:\\JAVA\\JWS\\BIN\\..\\public_html\\sample5.jsp&#148;,
    };

    private static final long lastModified[] =
    {
        904558366000L,
    };

    public void service(HttpServletRequest request,
                        HttpServletResponse response)
        throws IOException, ServletException
    {
        PrintWriter out = response.getWriter();
        CharFileData data[] = new CharFileData[sources.length];
        try
        {
            for (int i = 0 ; i &lt data.length ; i&#43;&#43;)
                data[i] = ServletUtil.getJHtmlSource(this,
                           sources[i], &#147;8859_1&#148;, lastModified[i]);
        } catch (Exception ex)
        {
            ex.printStackTrace();
            throw new ServletException(&#147;fileData&#148;);
        }
        // com.sun.server.http.pagecompile.jsp.CharArrayChunk
        // F:\JAVA\JWS\BIN\..\public_html\sample5.jsp 1,1-
        // F:\JAVA\JWS\BIN\..\public_html\sample5.jsp 7,7
        data[0].writeChars(0, 74, out);

        // com.sun.server.http.pagecompile.jsp.ScriptletChunk
        // F:\JAVA\JWS\BIN\..\public_html\sample5.jsp 7,7-
        // F:\JAVA\JWS\BIN\..\public_html\sample5.jsp 7,42
        out.print(ServletUtil.toString(<B> request.getParameter(&#147;name&#148;)</B>
                  ));
        // com.sun.server.http.pagecompile.jsp.CharArrayChunk
        // F:\JAVA\JWS\BIN\..\public_html\sample5.jsp 7,42-
        // F:\JAVA\JWS\BIN\..\public_html\sample5.jsp 16,1
         <B>data[0].writeChars(109, 261, out);</B>
        // com.sun.server.http.pagecompile.jsp.ScriptletChunk
        // F:\JAVA\JWS\BIN\..\public_html\sample5.jsp 16,1-
        // F:\JAVA\JWS\BIN\..\public_html\sample5.jsp 19,3

         <B>for(int i=1;i&lt6; i&#43;&#43;)
            out.print(&#147;&ltH&#148;&#43; i &#43;&#147;&gt Heading &#148; &#43; i &#43; &#147;&lt/h&#148; &#43; i &#43; &#147;&gt&#148; );</B>
       // com.sun.server.http.pagecompile.jsp.CharArrayChunk
       // F:\JAVA\JWS\BIN\..\public_html\sample5.jsp 19,3-
       // F:\JAVA\JWS\BIN\..\public_html\sample5.jsp 21,7
         <B>data[0].writeChars(462, 18, out);</B>
    }
}
</PRE>
<!-- END CODE //-->
<P>Notice that this servlet looks very much like the JHTML version. Both of these scripting solutions provide excellent choices for merging Java and HTML.
</P>
<H3><A NAME="Heading7"></A><FONT COLOR="#000077">Summary</FONT></H3>
<P>Server-side scripting provides a great mechanism for creating dynamic Web pages that contain designed HTML and programming logic. Although ASP and Server-Side JavaScript both provide the basic functionality required for server-side scripting, JavaServer Pages represent a leap forward by relying on a full-fledged programming language. Of course, the drawback of this technology is that Java is more complete and takes longer to learn than VBScript or JavaScript. But with that time comes more power. Both JHTML and the upcoming JSP standard enable you to create Web pages that leverage the full power of Java. Java programmers can use JavaServer Pages to create dynamic Web pages that access server-side business logic and data sources. One other point to note is that this technology is currently supported only as a server-side scripting technique. This means that all processing is done on the server. The way JSP is designed, it is reasonable that the Web browsers will be enhanced so that some of the processing can be done in the Web browser in the future. JSP marks a milestone in maintainable and extensible Web applications. Chapter 10, &#147;Creating JavaServer Pages,&#148; demonstrates the specific techniques used to create JavaServer Pages.
</P><P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="09-03.html">Previous</A></TD>
<TD><A HREF="../ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="../ch10/10-01.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>


<!-- 