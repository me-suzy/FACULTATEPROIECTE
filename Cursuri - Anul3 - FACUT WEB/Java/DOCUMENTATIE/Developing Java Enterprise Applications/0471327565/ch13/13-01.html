
<SCRIPT>
<!--
function displayWindow(url, width, height) {
        var Win = window.open(url,"displayWindow",'width=' + width +
	',height=' + height + ',resizable=1,scrollbars=yes');
	}
	//-->
	</SCRIPT>



<FONT FACE="Arial,Helvetica" SIZE="-1">
To access the contents, click the chapter and section titles.
</FONT>
<P>
<B>Developing Java Enterprise Applications</B>
<FONT SIZE="-1">
<BR>
<I>(Publisher: John Wiley & Sons, Inc.)</I>
<BR>
Author(s): Stephen Asbury ; Scott R. Weiner
<BR>
ISBN: 0471327565
<BR>
Publication Date: 02/01/99
</FONT>
<P>
<Script language="JavaScript">
function isIE4() 
{
    return( navigator.appName.indexOf("Microsoft") != -1 && (navigator.appVersion.charAt(0)=='4') );
 }
function bookMarkit()
{
        var url="http://www.itknowledge.com/PSUser/EWBookMarks.html?url="+window.location+"&isbn=0";
	parent.location.href=url;
        //var win = window.open(url,"myitk");
        //if(!isIE4())
        //       win.focus();

}
</Script>
<a href="javascript:bookMarkit();"><img src="/images/bookmarkit.gif" border=0 alt="Bookmark It" width=97 height=23></a>

<P>
<form name="Search" method="GET" action="http://search.earthweb.com/search97/search_redir.cgi">

<INPUT TYPE="hidden" NAME="Action" VALUE="Search">
<INPUT TYPE="hidden" NAME="SearchPage" VALUE="http://search.earthweb.com/search97/samples/forms/srchdemo.htm">
<INPUT TYPE="hidden" NAME="Collection" VALUE="ITK">
<INPUT TYPE="hidden" NAME="ResultTemplate" VALUE="itk-simple-intrabook.hts">
<INPUT TYPE="hidden" NAME="ViewTemplate" VALUE="view.hts">

<font face="arial, helvetica" size=2><b>Search this book:</b></font><br>
<INPUT NAME="queryText" size=50 VALUE="">&nbsp;<input type="submit" name="submitbutton" value="Go!">
<INPUT type=hidden NAME="section_on" VALUE="on">
<INPUT type=hidden NAME="section" VALUE="http://www.itknowledge.com/reference/standard/0471327565/">

</form>


<!-- Empty Reference Subhead -->

<!--ISBN=0471327565//-->
<!--TITLE=Developing Java Enterprise Applications//-->
<!--AUTHOR=Stephen Asbury//-->
<!--AUTHOR=Scott R. Weiner//-->
<!--PUBLISHER=Wiley Computer Publishing//-->
<!--CHAPTER=13//-->
<!--PAGES=325-327//-->
<!--UNASSIGNED1//-->
<!--UNASSIGNED2//-->

<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="../ch12/12-04.html">Previous</A></TD>
<TD><A HREF="../ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="13-02.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<H2><A NAME="Heading1"></A><FONT COLOR="#000077">CHAPTER 13<BR>Introduction to Java RMI
</FONT></H2>
<P>Java Remote Method Invocation (RMI) became a core part of the JDK in version 1.1 and continues to supply the main distributed object interface for Java programmers. RMI is a mechanism that enables an object on one Java virtual machine to invoke methods on an object on another Java virtual machine. The relationship between the two objects is defined by an interface that extends the remote interface. On the client machine, a proxy called a <I>stub</I> is used to send messages from the local machine to the remote object. This stub implements all the methods of the remote interface of the remote object. The stub&#146;s implementation forwards the messages, including parameters, to the remote object.</P>
<P>This chapter discusses how to program with RMI. The discussion is based on both the JDK 1.1 and Java 2 implementations of RMI. Java 2 has streamlined RMI in some ways, so much of this discussion is based on 1.1 concepts, with changes in Java 2 noted. However, all of the tables of methods are based on Java 2 for completeness, with deprecated methods noted. Because the final version of Java 2 was not available at the time this book is written, this discussion is based on 1.2 beta 4 early access 2, which was the last beta before the final release.</P>
<BLOCKQUOTE>
<P><FONT SIZE="-1"><HR><B>NOTE:&nbsp;&nbsp;</B>The message sender in these discussions is called the <I>client</I>; the receiver is called the <I>server</I>. These terms should not be confused with client/server computing. In RMI, it is possible for the same object or program to act as both a client and a server.
</FONT><HR>
</BLOCKQUOTE>
<H3><A NAME="Heading2"></A><FONT COLOR="#000077">What Is RMI?</FONT></H3>
<P>RMI defines a set of classes that manage communication between two programs. On the client side, an object called the <I>stub</I> represents an object on the server. Messages to the stub are packaged up and sent across the network to the server. On the server, the RMI libraries unpackage the message and forward it to the appropriate object. In JDK 1.1, a helper object called the <I>skeleton</I> manages this unpacking. In Java 2, the RMI libraries themselves handle it. The relationship between the client and server is pictured in Figure 13.1.</P>
<P>The process of packaging up the message and parameters is called <I>marshalling</I>. When the messages arrive at the remote server, the message and parameters are unmarshalled and the real object method is invoked. The method&#146;s return value is marshalled and returned to the client, where it is unmarshalled and returned to the original caller. The effect of this process is that issuing remote calls is nearly transparent to the developer of the client application.</P>
<P>RMI is used for creating communication channels between Java application objects. For communication between Java and other languages through CORBA, it is recommended that you use another Java facility known as Java IDL. Java IDL provides a mapping between Java and CORBA&#146;s Interface Definition Language (IDL). CORBA programs use IDL as a programming language-neutral mechanism for defining the interface between client and server applications.</P>
<BLOCKQUOTE>
<P><FONT SIZE="-1"><HR><B>NOTE:&nbsp;&nbsp;</B>More information about Java IDL can be found at <A HREF="http://java.sun.com/products/jdk/1.2/docs/guide/idl/index.html">http://java.sun.com/products/jdk/1.2/docs/guide/idl/index.html</A>.
</FONT><HR>
</BLOCKQUOTE>
<P>Unlike CORBA, in which an intermediate IDL is used, all of the remote object interfaces used in RMI are defined in Java. Currently, Java RMI uses a combination of Java serialization and the Java Remote Method Protocol (JRMP) to turn simple method invocations into remote method invocations. Along with Java RMI, JRMP continues to be supported and enhanced as the native protocol for Java RMI. However, other protocols such as IIOP will also be supported in future versions of RMI. This means that by writing Java RMI application today, you can communicate with other Java RMI applications or with CORBA applications tomorrow.
</P>
<P><A NAME="Fig1"></A><A HREF="javascript:displayWindow('images/13-01.jpg',500,248 )"><IMG SRC="images/13-01t.jpg"></A>
<BR><A HREF="javascript:displayWindow('images/13-01.jpg',500,248)"><FONT COLOR="#000077"><B>Figure 13.1</B></FONT></A>&nbsp;&nbsp;RMI architecture.</P>
<P>RMI consists of five packages and three utilities. Table 13.1 lists the purpose of each. It may seem that RMI is large, but for most cases, you need to use only a few methods and interfaces from each package to successfully implement a distributed object solution with RMI. The next few sections introduce the classes and interfaces in these packages, then provide several examples to show how RMI is used to create distributed programs. In Chapter 14, &#147;A Network File-Locking Server,&#148; a larger RMI example is discussed.
</P>
<H4 ALIGN="LEFT"><A NAME="Heading3"></A><FONT COLOR="#000077">RMI on the Client</FONT></H4>
<P>RMI is designed so that the client application programmer needs to know little about the network protocol, the marshalling and unmarshalling of data, and the actual implementation of the remote object. The client needs only a description of the remote methods that can be invoked on the remote object and the class file for the remote object stub that provides the actual communication with the remote object. The description takes the form of an interface that the remote object implements. The stub implements the interface by forwarding messages from the client to the remote object.
</P>
<P>Creating an RMI client is a two-step process. First, the client needs to connect to the server. Second, the client must handle networking-related exceptions. Connecting to the server is accomplished using the RMI registry, as discussed in this chapter in the &#147;Connecting the Client and Server&#148; section or with JNDI. In either case, the client ends up with an instance of the stub class to which it can send messages.</P>
<TABLE WIDTH="100%"><TD CAPTION ALIGN="LEFT" COLSPAN="2"><B>Table 13.1</B> RMI Components
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TH VALIGN="TOP" ALIGN="LEFT" WIDTH="35%">COMPONENT
<TH VALIGN="TOP" ALIGN="LEFT" WIDTH="55%">PURPOSE
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TD VALIGN="TOP" ALIGN="LEFT" WIDTH="35%"><SMALL>java.rmi</SMALL>
<TD VALIGN="TOP" ALIGN="LEFT" WIDTH="55%">Organizes client-side RMI classes, interfaces, and exceptions.
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TD VALIGN="TOP" ALIGN="LEFT" WIDTH="35%"><SMALL>java.rmi.server</SMALL>
<TD VALIGN="TOP" ALIGN="LEFT" WIDTH="55%">Organizes server-side RMI classes, interfaces, and exceptions.
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TD VALIGN="TOP" ALIGN="LEFT" WIDTH="35%"><SMALL>java.rmi.registry</SMALL>
<TD VALIGN="TOP" ALIGN="LEFT" WIDTH="55%">Organizes classes for managing the RMI naming services.
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TD VALIGN="TOP" ALIGN="LEFT" WIDTH="35%"><SMALL>java.rmi.dgc</SMALL>
<TD VALIGN="TOP" ALIGN="LEFT" WIDTH="55%">Organizes classes used to manage distributed garbage collection.
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TD VALIGN="TOP" ALIGN="LEFT" WIDTH="35%"><SMALL>java.rmi.activation</SMALL>
<TD VALIGN="TOP" ALIGN="LEFT" WIDTH="55%">Organizes the classes used to implement activate-on-demand RMI services.
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TD VALIGN="TOP" ALIGN="LEFT" WIDTH="35%"><SMALL>rmic</SMALL>
<TD VALIGN="TOP" ALIGN="LEFT" WIDTH="55%">A compiler that generates the stubs and skeletons used by RMI to implement distributed communication.
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TD VALIGN="TOP" ALIGN="LEFT" WIDTH="35%"><SMALL>rmiregistry</SMALL>
<TD VALIGN="TOP" ALIGN="LEFT" WIDTH="55%">A utility server that provides a naming service for RMI. This service associates names with objects.
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TD VALIGN="TOP" ALIGN="LEFT" WIDTH="35%"><SMALL>rmid</SMALL>
<TD VALIGN="TOP" ALIGN="LEFT" WIDTH="55%">A utility server that supports the RMI activation framework.
<TR>
<TD COLSPAN="2"><HR>
</TABLE>
<P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="../ch12/12-04.html">Previous</A></TD>
<TD><A HREF="../ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="13-02.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>


<!-- 