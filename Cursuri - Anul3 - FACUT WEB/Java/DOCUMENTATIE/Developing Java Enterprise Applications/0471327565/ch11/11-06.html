
<SCRIPT>
<!--
function displayWindow(url, width, height) {
        var Win = window.open(url,"displayWindow",'width=' + width +
	',height=' + height + ',resizable=1,scrollbars=yes');
	}
	//-->
	</SCRIPT>



<FONT FACE="Arial,Helvetica" SIZE="-1">
To access the contents, click the chapter and section titles.
</FONT>
<P>
<B>Developing Java Enterprise Applications</B>
<FONT SIZE="-1">
<BR>
<I>(Publisher: John Wiley & Sons, Inc.)</I>
<BR>
Author(s): Stephen Asbury ; Scott R. Weiner
<BR>
ISBN: 0471327565
<BR>
Publication Date: 02/01/99
</FONT>
<P>
<Script language="JavaScript">
function isIE4() 
{
    return( navigator.appName.indexOf("Microsoft") != -1 && (navigator.appVersion.charAt(0)=='4') );
 }
function bookMarkit()
{
        var url="http://www.itknowledge.com/PSUser/EWBookMarks.html?url="+window.location+"&isbn=0";
	parent.location.href=url;
        //var win = window.open(url,"myitk");
        //if(!isIE4())
        //       win.focus();

}
</Script>
<a href="javascript:bookMarkit();"><img src="/images/bookmarkit.gif" border=0 alt="Bookmark It" width=97 height=23></a>

<P>
<form name="Search" method="GET" action="http://search.earthweb.com/search97/search_redir.cgi">

<INPUT TYPE="hidden" NAME="Action" VALUE="Search">
<INPUT TYPE="hidden" NAME="SearchPage" VALUE="http://search.earthweb.com/search97/samples/forms/srchdemo.htm">
<INPUT TYPE="hidden" NAME="Collection" VALUE="ITK">
<INPUT TYPE="hidden" NAME="ResultTemplate" VALUE="itk-simple-intrabook.hts">
<INPUT TYPE="hidden" NAME="ViewTemplate" VALUE="view.hts">

<font face="arial, helvetica" size=2><b>Search this book:</b></font><br>
<INPUT NAME="queryText" size=50 VALUE="">&nbsp;<input type="submit" name="submitbutton" value="Go!">
<INPUT type=hidden NAME="section_on" VALUE="on">
<INPUT type=hidden NAME="section" VALUE="http://www.itknowledge.com/reference/standard/0471327565/">

</form>


<!-- Empty Reference Subhead -->

<!--ISBN=0471327565//-->
<!--TITLE=Developing Java Enterprise Applications//-->
<!--AUTHOR=Stephen Asbury//-->
<!--AUTHOR=Scott R. Weiner//-->
<!--PUBLISHER=Wiley Computer Publishing//-->
<!--CHAPTER=11//-->
<!--PAGES=310-312//-->
<!--UNASSIGNED1//-->
<!--UNASSIGNED2//-->

<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="11-05.html">Previous</A></TD>
<TD><A HREF="../ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="../ch12/12-01.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<P>The code that follows defines the Web page. The first boldfaced code defines a form that adds an item to the cart when the Submit button is pressed by sending the form data to the shopping cart servlet with the hidden form element named item containing the value of the book title to add. The second boldfaced form requests that the servlet display the current cart contents when the form is submitted to the same shopping cart servlet. It performs this secondary action of displaying the cart because the hidden form field named action contains a value of view.
</P>
<P><A NAME="Fig6"></A><A HREF="javascript:displayWindow('images/11-06.jpg',673,618 )"><IMG SRC="images/11-06t.jpg"></A>
<BR><A HREF="javascript:displayWindow('images/11-06.jpg',673,618)"><FONT COLOR="#000077"><B>Figure 11.6</B></FONT></A>&nbsp;&nbsp;The JFC book product page.</P>
<!-- CODE //-->
<PRE>
&ltHTML&gt
&ltHEAD&gt
   &ltTITLE&gtProgramming With JFC&lt/TITLE&gt
&lt/HEAD&gt
&ltBODY TEXT="#000000" BGCOLOR="#FFFFFF" LINK="#FF0000" VLINK="#800080"&gt
&ampnbsp;
&ltCENTER&gt&ltTABLE BORDER=0 WIDTH="500" &gt
&ltTR&gt
&ltTD&gt
&ltCENTER&gt&ltIMG SRC="jfc.gif" NOSAVE HEIGHT=140 WIDTH=112&gt&ampnbsp;&lt/CENTER&gt
&ltCENTER&gt
&ltH1&gt
Programming With JFC&ltBR&gt
&ltHR SIZE=1 NOSHADE WIDTH="100%"&gt
&lt/H1&gt&lt/CENTER&gt
&ltCENTER&gt
&ltH3&gt
Scott R. Weiner and Stephen Asbury&lt/H3&gt&lt/CENTER&gt
A complete, how&#150;to guide to using a powerful new pure&#150;Java library of user&#150;interface
elements.

&ltBR&gt&ltBR&gt
&ltCENTER&gt
&ltTABLE WIDTH="50%"&gt
&ltTR&gt
&ltTD&gt
&ltH2&gt
<B>&ltFORM ACTION=</B>"<B>/servlet/shoppingcart</B>"<B>&gt
&ltINPUT TYPE=</B>"<B>HIDDEN</B>"<B> NAME=</B>"<B>item</B>"<B> 
    VALUE=</B>"<B>Programming With JFC</B>"<B>&gt
&ltINPUT TYPE=</B>"<B>HIDDEN</B>"<B> NAME=</B>"<B>price</B>"<B> VALUE=</B>"<B>49.99</B>"<B>&gt
&ltINPUT TYPE=</B>"<B>HIDDEN</B>"<B> NAME=</B>"<B>quantity</B>"<B> VALUE=</B>"<B>1</B>"<B>&gt
&ltINPUT TYPE=</B>"<B>HIDDEN</B>"<B> NAME=</B>"<B>action</B>"<B> VALUE=</B>"<B>add</B>"<B>&gt
&ltINPUT TYPE=</B>"<B>SUBMIT</B>"<B> VALUE=</B>"<B>Add to Cart</B>"<B>&gt
&lt/FORM&gt
</B>&lt/H2&gt
&lt/TD&gt
&ltTD&gt
&ltH2&gt
<B>&ltFORM ACTION=</B>"<B>/servlet/shoppingcart</B>"<B>&gt
&ltINPUT TYPE=</B>"<B>HIDDEN</B>"<B> NAME=</B>"<B>action</B>"<B> VALUE=</B>"<B>view</B>"<B>&gt
&ltINPUT TYPE=</B>"<B>SUBMIT</B>"<B> VALUE=</B>"<B>View Cart</B>"<B>&gt
&lt/FORM&gt
</B>&lt/H2&gt
&lt/TD&gt
&lt/TR&gt
&lt/TABLE&gt
&lt/CENTER&gt
&lt/TD&gt
&lt/TR&gt
&lt/TABLE&gt&lt/CENTER&gt
&ampnbsp;
&lt/BODY&gt
&lt/HTML&gt
</PRE>
<!-- END CODE //-->
<P>Using the hidden fields of the forms, allow a single servlet to provide multiple actions for an HTML page or a set of HTML pages. To save space in a real store application, you may opt to use product ids rather than the full name of the product, which in this case is a book title. We used a book title to keep the example simple.
</P>
<H3><A NAME="Heading7"></A><FONT COLOR="#000077">Summary</FONT></H3>
<P>This online store example has provided some ideas of how to use JavaServer pages and combine them with other Web resources to create a complete Web site application. In particular, keep in mind that straight HTML has been used whenever possible. Doing so improves maintenance and performance. In the same vein, inheritance is used when possible to minimize duplicate code in our JSP. Overall, perhaps the most important lesson is to remember that JavaServer Pages are a powerful tool for combining servlets and HTML. This means that due to their hybrid nature, they have some maintenance issues, such as sharing between programmers and designers, but they can also be used to create well&#150;formatted, easily designed, dynamic Web pages.
</P>
<P>Setting up an online store requires that you handle the presentation that allows a way for users to select from product categories, to select items to purchase, and to review and revise their choices. Ultimately, an online store provides a mechanism for purchasing items. The example in Chapter 25, &#147;A Four&#150;Tier Online Store,&#148; extends this version of an online store to use Enterprise JavaBeans to perform the purchasing functionality.</P>
<P>Keep in mind that a number of transactional and security issues associated with electronic commerce are beyond the scope of this example. In particular, a real commercial site needs to be sure to prevent invalid purchases. This store takes the price as it is input; a smart shopper could get a really good deal in this situation. The example in Chapter 25 fixes this problem by double&#150;checking prices against an internal database. Even then, issues such as secure connections with SSL and protecting the server from hackers must be considered, despite their lack of coverage here.</P>
<P>In order to create a complete enterprise application that leverages servlets and JSP, you will want to access remote services. Previous chapters have looked at how you can access databases and other data services. The next few chapters look at how you can access remote Java applications using a technique called distributed objects.</P><P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="11-05.html">Previous</A></TD>
<TD><A HREF="../ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="../ch12/12-01.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>


<!-- 