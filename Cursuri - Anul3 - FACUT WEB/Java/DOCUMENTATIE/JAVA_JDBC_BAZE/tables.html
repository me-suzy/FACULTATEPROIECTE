<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<title>Setting Up Tables</title>
<script language="JavaScript">
<!-- hide
function openWin(term) {
  url="../../information/glossary.html#" + term;
  myWin= window.open(url, "Glossary",
              "width=400,height=150,scrollbars=yes,status=no,toolbar=no,menubar=no");
  myWin.focus();
}
//-->
</script>
</head>
<body BGCOLOR="#ffffff" LINK="#000099">
<B><FONT SIZE="-1">The Java</font><sup><font size="-2">TM</font></sup> <font size="-1">Tutorial</FONT></B>
<br>
<table width="550">
<tr>
<td align="left" valign="center">
<a href="connecting.html" tppabs="http://java.sun.com/docs/books/tutorial/jdbc/basics/connecting.html" target="_top"><img src="PreviousArrow.gif" tppabs="http://java.sun.com/docs/books/tutorial/images/PreviousArrow.gif" width="26" height="26" align="center" border="0" alt="Previous Page"></a>
<a href="javascript:if(confirm('http://java.sun.com/docs/books/tutorial/jdbc/TOC.html  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://java.sun.com/docs/books/tutorial/jdbc/TOC.html#basics'" tppabs="http://java.sun.com/docs/books/tutorial/jdbc/TOC.html#basics" target="_top"><img src="TOCIcon.gif" tppabs="http://java.sun.com/docs/books/tutorial/images/TOCIcon.gif" width="26" height="26" align="center" border="0" alt="Lesson Contents"></a>
<a href="retrieving.html" tppabs="http://java.sun.com/docs/books/tutorial/jdbc/basics/retrieving.html" target="_top"><img src="NextArrow.gif" tppabs="http://java.sun.com/docs/books/tutorial/images/NextArrow.gif" width="26" height="26" align="center" border="0" alt="Next Page"></a></td>

<td align="center" valign="center">
<font size="-1">
<a href="javascript:if(confirm('http://java.sun.com/docs/books/tutorial/index.html  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://java.sun.com/docs/books/tutorial/index.html'" tppabs="http://java.sun.com/docs/books/tutorial/index.html" target="_top">Start of Tutorial</a>
&gt;
<a href="javascript:if(confirm('http://java.sun.com/docs/books/tutorial/jdbc/index.html  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://java.sun.com/docs/books/tutorial/jdbc/index.html'" tppabs="http://java.sun.com/docs/books/tutorial/jdbc/index.html" target="_top">Start of Trail</a>
&gt;
<a href="index.html" tppabs="http://java.sun.com/docs/books/tutorial/jdbc/basics/index.html" target="_top">Start of Lesson</a>
</font>
</td>

<td align="right" valign="center">
<font size="-1">
<a href="javascript:if(confirm('http://java.sun.com/docs/books/tutorial/search.html  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://java.sun.com/docs/books/tutorial/search.html'" tppabs="http://java.sun.com/docs/books/tutorial/search.html" target="_top">Search</a>
<br><a href="javascript:if(confirm('http://java.sun.com/docs/books/tutorial/forms/sendusmail.html  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://java.sun.com/docs/books/tutorial/forms/sendusmail.html'" tppabs="http://java.sun.com/docs/books/tutorial/forms/sendusmail.html">Feedback Form</a>
</font>
</td>

</tr>
</table>
<img src="blueline.gif" tppabs="http://java.sun.com/docs/books/tutorial/images/blueline.gif" width="550" height="8" ALIGN="BOTTOM" NATURALSIZEFLAG="3">
<br>

<font size="-1">
<b>Trail</b>: JDBC(TM) Database Access
<br>
<b>Lesson</b>: JDBC Basics
</font>

<h2>
Setting Up Tables
</h2>
<blockquote>
</blockquote>
<h3 CLASS="C-Head-afterB-Head">
<A NAME="pgfId=1024182">
 </A>
Creating a Table</h3>
<blockquote>
<P CLASS="Body">
<A NAME="pgfId=1024175">
 </A>
First, we will create one of the tables in our example database. This table, <CODE CLASS="Code">
COFFEES</CODE>
, contains the essential information about the coffees sold at The Coffee Break, including the coffee names, their prices, the number of pounds sold the current week, and the number of pounds sold to date. The table <CODE CLASS="Code">
COFFEES</CODE>
, which we describe in more detail later, is shown here:
<P>
<TABLE BORDER="1">
<TR>
<TH ROWSPAN="1" COLSPAN="1">
<h3 CLASS="TSH-Table-Side-Head">
<A NAME="pgfId=1009401">
 </A>
COF_NAME</h3>
</TH>
<TH ROWSPAN="1" COLSPAN="1">
<P CLASS="TAB-Table-Body">
<A NAME="pgfId=1009403">
 </A>
SUP_ID</P>
</TH>
<TH ROWSPAN="1" COLSPAN="1">
<P CLASS="TAB-Table-Body">
<A NAME="pgfId=1009405">
 </A>
PRICE</P>
</TH>
<TH ROWSPAN="1" COLSPAN="1">
<P CLASS="TAB-Table-Body">
<A NAME="pgfId=1009407">
 </A>
SALES</P>
</TH>
<TH ROWSPAN="1" COLSPAN="1">
<P CLASS="TAB-Table-Body">
<A NAME="pgfId=1009409">
 </A>
TOTAL</P>
</TH>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<h3 CLASS="TSH-Table-Side-Head">
<A NAME="pgfId=1009411">
 </A>
Colombian</h3>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TAB-Table-Body">
<A NAME="pgfId=1009413">
 </A>
101</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TAB-Table-Body">
<A NAME="pgfId=1009415">
 </A>
7.99</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TAB-Table-Body">
<A NAME="pgfId=1009417">
 </A>
0</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TAB-Table-Body">
<A NAME="pgfId=1009419">
 </A>
0</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<h3 CLASS="TSH-Table-Side-Head">
<A NAME="pgfId=1009421">
 </A>
French_Roast</h3>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TAB-Table-Body">
<A NAME="pgfId=1009423">
 </A>
49</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TAB-Table-Body">
<A NAME="pgfId=1009425">
 </A>
8.99</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TAB-Table-Body">
<A NAME="pgfId=1009427">
 </A>
0</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TAB-Table-Body">
<A NAME="pgfId=1009429">
 </A>
0</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<h3 CLASS="TSH-Table-Side-Head">
<A NAME="pgfId=1009431">
 </A>
Espresso</h3>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TAB-Table-Body">
<A NAME="pgfId=1009433">
 </A>
150</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TAB-Table-Body">
<A NAME="pgfId=1009435">
 </A>
9.99</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TAB-Table-Body">
<A NAME="pgfId=1009437">
 </A>
0</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TAB-Table-Body">
<A NAME="pgfId=1009439">
 </A>
0</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<h3 CLASS="TSH-Table-Side-Head">
<A NAME="pgfId=1009441">
 </A>
Colombian_Decaf</h3>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TAB-Table-Body">
<A NAME="pgfId=1009443">
 </A>
101</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TAB-Table-Body">
<A NAME="pgfId=1009445">
 </A>
8.99</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TAB-Table-Body">
<A NAME="pgfId=1009447">
 </A>
0</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TAB-Table-Body">
<A NAME="pgfId=1009449">
 </A>
0</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<h3 CLASS="TSH-Table-Side-Head">
<A NAME="pgfId=1009491">
 </A>
French_Roast_Decaf</h3>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TAB-Table-Body">
<A NAME="pgfId=1009493">
 </A>
49</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TAB-Table-Body">
<A NAME="pgfId=1009495">
 </A>
9.99</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TAB-Table-Body">
<A NAME="pgfId=1009497">
 </A>
0</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TAB-Table-Body">
<A NAME="pgfId=1009499">
 </A>
0</P>
</TD>
</TR>
</TABLE>
<P CLASS="Body">
<A NAME="pgfId=1009215">
 </A>
The column storing the coffee name is <CODE CLASS="Code">
COF_NAME,</CODE>
 and it holds values with an SQL type of <CODE CLASS="Code">
VARCHAR</CODE>
 and a maximum length of 32 characters. Since we will use different names for each type of coffee sold, the name will uniquely identify a particular coffee and can therefore serve as the primary key. The second column, named <CODE CLASS="Code">
SUP_ID</CODE>
, will hold a number that identifies the coffee supplier; this number will be of SQL type <CODE CLASS="Code">
INTEGER</CODE>
. The third column, called <CODE CLASS="Code">
PRICE,</CODE>
 stores values with an SQL type of <CODE CLASS="Code">
FLOAT</CODE>
 because it needs to hold values with decimal points. (Note that money values would normally be stored in an SQL type <CODE CLASS="Code">
DECIMAL</CODE>
 or <CODE CLASS="Code">
NUMERIC</CODE>
, but because of differences among DBMSs and to avoid incompatibility with older versions of JDBC, we are using the more standard type <CODE CLASS="Code">
FLOAT</CODE>
 for this tutorial.) The column named <CODE CLASS="Code">
SALES</CODE>
 stores values of SQL type <CODE CLASS="Code">
INTEGER</CODE>
 and indicates the number of pounds of coffee sold during the current week. The final column, <CODE CLASS="Code">
TOTAL</CODE>
, contains an SQL <CODE CLASS="Code">
INTEGER</CODE>
 which gives the total number of pounds of coffee sold to date.</P>
<P CLASS="Body">
<A NAME="pgfId=998916">
 </A>
<CODE CLASS="Code">
SUPPLIERS</CODE>
, the second table in our database,
gives information about each of the suppliers:
<p>
<TABLE BORDER="1">
<TR>
<TH ROWSPAN="1" COLSPAN="1">
<h3 CLASS="TSH-Table-Side-Head">
<A NAME="pgfId=1012832">
 </A>
SUP_ID</h3>
</TH>
<TH ROWSPAN="1" COLSPAN="1">
<P CLASS="TAB-Table-Body">
<A NAME="pgfId=1012834">
 </A>
SUP_NAME</P>
</TH>
<TH ROWSPAN="1" COLSPAN="1">
<P CLASS="TAB-Table-Body">
<A NAME="pgfId=1012836">
 </A>
STREET</P>
</TH>
<TH ROWSPAN="1" COLSPAN="1">
<P CLASS="TAB-Table-Body">
<A NAME="pgfId=1012838">
 </A>
CITY</P>
</TH>
<TH ROWSPAN="1" COLSPAN="1">
<P CLASS="TAB-Table-Body">
<A NAME="pgfId=1012840">
 </A>
STATE</P>
</TH>
<TH ROWSPAN="1" COLSPAN="1">
<P CLASS="TAB-Table-Body">
<A NAME="pgfId=1012842">
 </A>
ZIP</P>
</TH>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId=1012844">
 </A>
101</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId=1012846">
 </A>
Acme, Inc.</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId=1012848">
 </A>
99 Market Street</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId=1012850">
 </A>
Groundsville</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId=1012852">
 </A>
CA</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId=1012854">
 </A>
95199</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId=1012856">
 </A>
49</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId=1012858">
 </A>
Superior Coffee</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId=1012860">
 </A>
1 Party Place</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId=1012862">
 </A>
Mendocino</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId=1012864">
 </A>
CA</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId=1012866">
 </A>
95460</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId=1012868">
 </A>
150</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId=1012870">
 </A>
The High Ground</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId=1012872">
 </A>
100 Coffee Lane</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId=1012874">
 </A>
Meadows</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId=1012876">
 </A>
CA</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId=1012878">
 </A>
93966</P>
</TD>
</TR>
</TABLE>
<P CLASS="Body">
<A NAME="pgfId=1009602">
 </A>
The tables <CODE CLASS="Code">
COFFEES</CODE>
 and <CODE CLASS="Code">
SUPPLIERS</CODE>
 both contain the column <CODE CLASS="Code">
SUP_ID</CODE>
, which means that these two tables can be used in <CODE CLASS="Code">
SELECT</CODE>
 statements to get data based on the information in both tables. The column <CODE CLASS="Code">
SUP_ID</CODE>
 is the primary key in the table <CODE CLASS="Code">
SUPPLIERS</CODE>
, and as such, it uniquely identifies each of the coffee suppliers. In the table <CODE CLASS="Code">
COFFEES</CODE>
, <CODE CLASS="Code">
SUP_ID</CODE>
 is called a foreign key. (You can think of a foreign key as being foreign in the sense that it is imported from another table.) Note that each <CODE CLASS="Code">
SUP_ID</CODE>
 number appears only once in the <CODE CLASS="Code">
SUPPLIERS</CODE>
 table; this is required for it to be a primary key. In the <CODE CLASS="Code">
COFFEES</CODE>
 table, where it is a foreign key, however, it is perfectly all right for there to be duplicate <CODE CLASS="Code">
SUP_ID</CODE>
 numbers because one supplier may sell many types of coffee. Later in this chapter, you will see an example of how to use primary and foreign keys in a <CODE CLASS="Code">
SELECT</CODE>
 statement.</P>
<P CLASS="Body">
<A NAME="pgfId=997686">
 </A>
The following SQL statement creates the table <CODE CLASS="Code">
COFFEES</CODE>
. The entries within the outer pair of parentheses consist of the name of a column followed by a space and the SQL type to be stored in that column. A comma separates the entry for one column (consisting of column name and SQL type) from the next one. The type <CODE CLASS="Code">
VARCHAR</CODE>
 is created with a maximum length, so it takes a parameter indicating that maximum length. The parameter must be in parentheses following the type. The SQL statement shown here, for example, specifies that the name in column COF_NAME may be up to 32 characters long:</P>
<blockquote><pre>
CREATE TABLE COFFEES
	(COF_NAME VARCHAR(32),
 SUP_ID INTEGER,
 PRICE FLOAT,
 SALES INTEGER,
 TOTAL INTEGER)
</pre></blockquote>
<P CLASS="Body">
<A NAME="pgfId=997336">
 </A>
This code does not end with a DBMS statement terminator, which can vary from DBMS to DBMS. For example, Oracle uses a semicolon (;) to indicate the end of a statement, and Sybase uses the word <CODE CLASS="Code">
go</CODE>
. The driver you are using will automatically supply the appropriate statement terminator, and you will not need to include it in your JDBC code.</P>
<P CLASS="Body">
<A NAME="pgfId=1008008">
 </A>
Another thing we should point out about SQL statements is their form. In the <CODE CLASS="Code">
CREATE</CODE>
 <CODE CLASS="Code">
TABLE</CODE>
 statement, key words are printed in all capital letters, and each item is on a separate line. SQL does not require either; these conventions simply make statements easier to read. The standard in SQL is that keywords are not case sensitive, so, for example, the following <CODE CLASS="Code">
SELECT</CODE>
 statement can be written various ways. As an example, these two versions below are equivalent as far as SQL is concerned:</P>
<blockquote><pre>
SELECT First_Name, Last_Name
FROM Employees
WHERE Last_Name LIKE &quot;Washington&quot;
select First_Name, Last_Name from Employees where
Last_Name like &quot;Washington&quot;
</pre></blockquote>
<P CLASS="Body">
<A NAME="pgfId=1008016">
 </A>
Quoted material, however, is case sensitive: in the name &quot;<CODE CLASS="Code">
Washington,</CODE>
&quot; &quot;<CODE CLASS="Code">
W</CODE>
&quot; must be capitalized, and the rest of the letters must be lowercase. </P>
<P CLASS="Body">
<A NAME="pgfId=1008017">
 </A>
Requirements can vary from one DBMS to another when it comes to identifier names. For example, some DBMSs require that column and table names be given exactly as they were created in the <CODE CLASS="Code">
CREATE</CODE>
 <CODE CLASS="Code">
TABLE</CODE>
 statement, while others do not. To be safe, we will use all uppercase for identifiers such as <CODE CLASS="Code">
COFFEES</CODE>
 and <CODE CLASS="Code">
SUPPLIERS</CODE>
  because that is how we defined them.</P>
<P CLASS="Body">
<A NAME="pgfId=1011698">
 </A>
So far we have written the SQL statement that creates the table <CODE CLASS="Code">
COFFEES</CODE>
. Now let's put quotation marks around it (making it a string) and assign that string to the variable <CODE CLASS="Code-Variable1">
createTableCoffees</CODE>
 so that we can use the variable in our JDBC code later. As just shown, the DBMS does not care about where lines are divided, but in the Java programming language, a <CODE CLASS="Code">
String</CODE>
 object that extends beyond one line will not compile. Consequently, when you are giving strings, you need to enclose each line in quotation marks and use a plus sign (+) to concatenate them:</P>
<blockquote><pre>
String createTableCoffees = &quot;CREATE TABLE COFFEES &quot; +
    &quot;(COF_NAME VARCHAR(32), SUP_ID INTEGER, PRICE FLOAT, &quot; +
    &quot;SALES INTEGER, TOTAL INTEGER)&quot;;
</pre></blockquote>
<P CLASS="Body">
<A NAME="pgfId=1007029">
 </A>
The data types we used in our <CODE CLASS="Code">
CREATE</CODE>
 <CODE CLASS="Code">
TABLE</CODE>
 statement are the generic SQL types (also called JDBC types) that are defined in the class <CODE CLASS="Code">
java.sql.Types</CODE>
. DBMSs generally use these standard types, so when the time comes to try out some JDBC applications, you can just use the application <CODE CLASS="Code">
CreateCoffees.java</CODE>
, which uses the <CODE CLASS="Code">
CREATE</CODE>
 <CODE CLASS="Code">
TABLE</CODE>
 statement. If your DBMS uses its own local type names, we supply another application for you, which we will explain fully later.</P>
<P CLASS="Body">
<A NAME="pgfId=1011050">
 </A>
Before running any applications, however, we are going to walk you through the basics of JDBC.</P>
</blockquote>
<h3 CLASS="C-Head">
<A NAME="pgfId=998115">
 </A>
Creating JDBC Statements</h3>
<blockquote>
<P CLASS="Body">
<A NAME="pgfId=998954">
 </A>
A <CODE CLASS="Code">
Statement</CODE>
 object is what sends your SQL statement to the DBMS. You simply create a <CODE CLASS="Code">
Statement</CODE>
 object and then execute it, supplying the appropriate execute method with the SQL statement you want to send. For a <CODE CLASS="Code">
SELECT</CODE>
 statement, the method to use is <CODE CLASS="Code">
executeQuery</CODE>
. For statements that create or modify tables, the method to use is <CODE CLASS="Code">
executeUpdate</CODE>
.</P>
<P CLASS="Body">
<A NAME="pgfId=998953">
 </A>
It takes an instance of an active connection to create a <CODE CLASS="Code">
Statement</CODE>
 object. In the following example, we use our <CODE CLASS="Code">
Connection</CODE>
 object <CODE CLASS="Code-Variable1">
con</CODE>
 to create the <CODE CLASS="Code">
Statement</CODE>
 object <CODE CLASS="Code-Variable1">
stmt</CODE>
:</P>
<blockquote><pre>
Statement stmt = con.createStatement();
</pre></blockquote>
<P CLASS="Body">
<A NAME="pgfId=1000277">
 </A>
At this point <CODE CLASS="Code-Variable1">
stmt</CODE>
 exists, but it does not have an SQL statement to pass on to the DBMS. We need to supply that to the method we use to execute <CODE CLASS="Code-Variable1">
stmt</CODE>
. For example, in the following code fragment, we supply <CODE CLASS="Code">
executeUpdate</CODE>
 with the SQL statement from the example above:</P>
<blockquote><pre>
stmt.executeUpdate(&quot;CREATE TABLE COFFEES &quot; +
    &quot;(COF_NAME VARCHAR(32), SUP_ID INTEGER, PRICE FLOAT, &quot; +
    &quot;SALES INTEGER, TOTAL INTEGER)&quot;);
</pre></blockquote>
<P CLASS="Body">
<A NAME="pgfId=1004341">
 </A>
Since we made a string out of the SQL statement and assigned it to the variable <CODE CLASS="Code-Variable1">
createTableCoffees</CODE>
, we could have written the code in this alternate form:</P>
<blockquote><pre>
stmt.executeUpdate(<CODE CLASS="Code-Variable1">createTableCoffees</CODE>);
</pre></blockquote>
</blockquote>
<h3 CLASS="C-Head">
<A NAME="pgfId=1004346">
 </A>
Executing Statements</h3>
<blockquote>
<P CLASS="Body">
<A NAME="pgfId=1004351">
 </A>
We used the method <CODE CLASS="Code">
executeUpdate</CODE>
 because the SQL statement contained in <CODE CLASS="Code-Variable1">
createTableCoffees</CODE>
 is a DDL (data definition language) statement. Statements that create a table, alter a table, or drop a table are all examples of DDL statements and are executed with the method <CODE CLASS="Code">
executeUpdate</CODE>
. As you might expect from its name, the method <CODE CLASS="Code">
executeUpdate</CODE>
 is also used to execute SQL statements that update a table. In practice, <CODE CLASS="Code">
executeUpdate</CODE>
 is used far more often to update tables than it is to create them because a table is created once but may be updated many times.</P>
<P CLASS="Body">
<A NAME="pgfId=998120">
 </A>
The method used most often for executing SQL statements is <CODE CLASS="Code">
executeQuery</CODE>
. This method is used to execute <CODE CLASS="Code">
SELECT</CODE>
 statements, which comprise the vast majority of SQL statements. You will see how to use this method shortly.</P>
</blockquote>

<h3 CLASS="C-Head">
<A NAME="pgfId=998402">
 </A>
Entering Data into a Table</h3>
<blockquote>
<P CLASS="Body">
<A NAME="pgfId=1004354">
 </A>
We have shown how to create the table <CODE CLASS="Code">
COFFEES</CODE>
 by specifying the names of the columns and the data types to be stored in those columns, but this only sets up the structure of the table. The table does not yet contain any data. We will enter our data into the table one row at a time, supplying the information to be stored in each column of that row. Note that the values to be inserted into the columns are listed in the same order that the columns were declared when the table was created, which is the default order. </P>
<P CLASS="Body">
<A NAME="pgfId=999083">
 </A>
 The following code inserts one row of data, with <CODE CLASS="Code">
Colombian </CODE>
in the column <CODE CLASS="Code">
COF_NAME</CODE>
, <CODE CLASS="Code">
101</CODE>
 in <CODE CLASS="Code">
SUP_ID</CODE>
, <CODE CLASS="Code">
7.99</CODE>
 in <CODE CLASS="Code">
PRICE</CODE>
, <CODE CLASS="Code">
0</CODE>
 in <CODE CLASS="Code">
SALES</CODE>
, and <CODE CLASS="Code">
0</CODE>
 in <CODE CLASS="Code">
TOTAL</CODE>
. (Since The Coffee Break has just started out, the amount sold during the week and the total to date are zero for all the coffees to start with.) Just as we did in the code that created the table <CODE CLASS="Code">
COFFEES</CODE>
, we will create a <CODE CLASS="Code">
Statement</CODE>
 object and then execute it using the method <CODE CLASS="Code">
executeUpdate</CODE>
. </P>
<P CLASS="Body">
<A NAME="pgfId=999060">
 </A>
Since the SQL statement will not quite fit on one line on the page, we have split it into two strings concatenated by a plus sign (+) so that it will compile. Pay special attention to the need for a space between <CODE CLASS="Code">
COFFEES</CODE>
 and <CODE CLASS="Code">
VALUES</CODE>
. This space must be within the quotation marks and may be after <CODE CLASS="Code">
COFFEES</CODE>
 or before <CODE CLASS="Code">
VALUES</CODE>
; without a space, the SQL statement will erroneously be read as &quot;<CODE CLASS="Code">
INSERT INTO COFFEESVALUES . . </CODE>
.&quot; and the DBMS will look for the table <CODE CLASS="Code">
COFFEESVALUES</CODE>
. Also note that we use single quotation marks around the coffee name because it is nested within double quotation marks. For most DBMSs, the general rule is to alternate double quotation marks and single quotation marks to indicate nesting.</P>
<blockquote><pre>
Statement stmt = con.createStatement();
stmt.executeUpdate(
    &quot;INSERT INTO COFFEES &quot; + 
    &quot;VALUES ('Colombian', 101, 7.99, 0, 0)&quot;);
</pre></blockquote>

<P CLASS="Body">
<A NAME="pgfId=998407">
 </A>
The code that follows inserts a second row into the table <CODE CLASS="Code">
COFFEES</CODE>
. Note that we can just reuse the <CODE CLASS="Code">
Statement</CODE>
 object <CODE CLASS="Code-Variable1">
stmt</CODE>
 rather than having to create a new one for each execution.</P>
<blockquote><pre>
stmt.executeUpdate(&quot;INSERT INTO COFFEES &quot; +
    &quot;VALUES ('French_Roast', 49, 8.99, 0, 0)&quot;);
</pre></blockquote>
<P CLASS="Body">
<A NAME="pgfId=998410">
 </A>
Values for the remaining rows can be inserted as follows:</P>
<blockquote><pre>
stmt.executeUpdate(&quot;INSERT INTO COFFEES &quot; +
    &quot;VALUES ('Espresso', 150, 9.99, 0, 0)&quot;);
stmt.executeUpdate(&quot;INSERT INTO COFFEES &quot; +
    &quot;VALUES ('Colombian_Decaf', 101, 8.99, 0, 0)&quot;);
stmt.executeUpdate(&quot;INSERT INTO COFFEES &quot; +
    &quot;VALUES ('French_Roast_Decaf', 49, 9.99, 0, 0)&quot;);
</pre></blockquote>
</blockquote>

<h3 CLASS="C-Head">
<A NAME="pgfId=997867">
 </A>
Getting Data from a Table</h3>
<blockquote>
<P CLASS="Body">
<A NAME="pgfId=997496">
 </A>
Now that the table <CODE CLASS="Code">
COFFEES</CODE>
 has values in it, we can write a <CODE CLASS="Code">
SELECT</CODE>
 statement to access those values. The star (*) in the following SQL statement indicates that all columns should be selected. Since there is no <CODE CLASS="Code">
WHERE</CODE>
 clause to narrow down the rows from which to select, the following SQL statement selects the whole table:</P>
<blockquote><pre>
SELECT * FROM COFFEES
</pre></blockquote>
<P CLASS="Body">
<A NAME="pgfId=998737">
 </A>
The result, which is the entire table, will look similar to the following: </P>
<blockquote><pre>
COF_NAME		SUP_ID	PRICE	SALES	TOTAL
---------------		------	-----	-----	-----
Colombian		101	7.99	0	0
French_Roast		 49	8.99	0	0
Espresso		150	9.99	0	0
Colombian_Decaf		101	8.99	0	0
French_Roast_Decaf	 49	9.99	0	0
</pre></blockquote>
<P CLASS="Body">
<A NAME="pgfId=1003847">
 </A>
The result above is what you would see on your terminal if you entered the SQL query directly to the database system. When we access a database through a Java application, as we will be doing shortly, we will need to retrieve the results so that we can use them. You will see how to do this in the next section. </P>
<P CLASS="Body">
<A NAME="pgfId=998727">
 </A>
Here is another example of a <CODE CLASS="Code">
SELECT</CODE>
 statement; this one will get a list of coffees and their respective prices per pound:</P>
<blockquote><pre>
SELECT COF_NAME, PRICE FROM COFFEES
</pre></blockquote>
<P CLASS="Body">
<A NAME="pgfId=1024191">
 </A>
The results of this query will look something like this:</P>
<blockquote>
<PRE CLASS="Code"><A NAME="pgfId=997532"> </A>
COF_NAME				PRICE
--------		----------   	-----
Colombian				7.99
French_Roast				8.99
Espresso				9.99
Colombian_Decaf	  			8.99
French_Roast_Decaf			9.99
</pre></blockquote>
<P CLASS="Body">
<A NAME="pgfId=997829">
 </A>
The <CODE CLASS="Code">
SELECT</CODE>
 statement above generates the names and prices of all of the coffees in the table. The following SQL statement limits the coffees selected to just those that cost less than &#36;9.00 per pound: </P>
<blockquote>
<PRE CLASS="Code"><A NAME="pgfId=997830"> </A>
SELECT COF_NAME, PRICE
FROM COFFEES
WHERE PRICE &lt; 9.00
</pre></blockquote>
<P CLASS="Body">
<A NAME="pgfId=998425">
 </A>
The results would look similar to this:</P>
<blockquote>
<PRE CLASS="Code"><A NAME="pgfId=998429"> </A>
COF_NAME				PRICE
--------		-------		-----
Colombian				7.99
French_Roast				8.99
Colombian Decaf	 	 		8.99
</pre></blockquote>


</blockquote>

<img src="blueline.gif" tppabs="http://java.sun.com/docs/books/tutorial/images/blueline.gif" width="550" height="8" ALIGN="BOTTOM" NATURALSIZEFLAG="3">
<br>
<table width="550">
<tr>
<td align="left" valign="center">
<a href="connecting.html" tppabs="http://java.sun.com/docs/books/tutorial/jdbc/basics/connecting.html" target="_top"><img src="PreviousArrow.gif" tppabs="http://java.sun.com/docs/books/tutorial/images/PreviousArrow.gif" width="26" height="26" align="center" border="0" alt="Previous Page"></a>
<a href="javascript:if(confirm('http://java.sun.com/docs/books/tutorial/jdbc/TOC.html  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://java.sun.com/docs/books/tutorial/jdbc/TOC.html#basics'" tppabs="http://java.sun.com/docs/books/tutorial/jdbc/TOC.html#basics" target="_top"><img src="TOCIcon.gif" tppabs="http://java.sun.com/docs/books/tutorial/images/TOCIcon.gif" width="26" height="26" align="center" border="0" alt="Lesson Contents"></a>
<a href="retrieving.html" tppabs="http://java.sun.com/docs/books/tutorial/jdbc/basics/retrieving.html" target="_top"><img src="NextArrow.gif" tppabs="http://java.sun.com/docs/books/tutorial/images/NextArrow.gif" width="26" height="26" align="center" border="0" alt="Next Page"></a></td>

<td align="center" valign="center">
<font size="-1">
<a href="javascript:if(confirm('http://java.sun.com/docs/books/tutorial/index.html  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://java.sun.com/docs/books/tutorial/index.html'" tppabs="http://java.sun.com/docs/books/tutorial/index.html" target="_top">Start of Tutorial</a>
&gt;
<a href="javascript:if(confirm('http://java.sun.com/docs/books/tutorial/jdbc/index.html  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://java.sun.com/docs/books/tutorial/jdbc/index.html'" tppabs="http://java.sun.com/docs/books/tutorial/jdbc/index.html" target="_top">Start of Trail</a>
&gt;
<a href="index.html" tppabs="http://java.sun.com/docs/books/tutorial/jdbc/basics/index.html" target="_top">Start of Lesson</a>
</font>
</td>

<td align="right" valign="center">
<font size="-1">
<a href="javascript:if(confirm('http://java.sun.com/docs/books/tutorial/search.html  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://java.sun.com/docs/books/tutorial/search.html'" tppabs="http://java.sun.com/docs/books/tutorial/search.html" target="_top">Search</a>
<br><a href="javascript:if(confirm('http://java.sun.com/docs/books/tutorial/forms/sendusmail.html  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://java.sun.com/docs/books/tutorial/forms/sendusmail.html'" tppabs="http://java.sun.com/docs/books/tutorial/forms/sendusmail.html">Feedback Form</a>
</font>
</td>

</tr>
</table>
<p>
<font size="-1">
<a href="javascript:if(confirm('http://java.sun.com/docs/books/tutorial/information/copyright.html  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://java.sun.com/docs/books/tutorial/information/copyright.html'" tppabs="http://java.sun.com/docs/books/tutorial/information/copyright.html">Copyright</a>
1995-2002 Sun Microsystems, Inc.  All rights reserved.
</font>
</p>
</body>
</html>
